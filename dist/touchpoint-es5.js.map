{"version":3,"sources":["touchpoint.js"],"names":["TouchPoint","clickTap","window","dom","styleEl","color","opacity","size","scale","tp","init","document","querySelector","createCss","addEventListener","create","e","createElement","setAttribute","getMobileOS","style","left","pageX","top","pageY","touches","length","clientX","clientY","className","body","appendChild","requestNextAnimationFrame","gc","currTP","removeEventListener","target","removeChild","name","rules","head","getElementsByTagName","i","childNodes","tagName","toLowerCase","innerHTML","type","userAgent","navigator","vendor","opera","match","ids","requestId","id","Math","floor","random","callback","element","requestAnimationFrame","ts","cancelNextAnimationFrame","cancelAnimationFrame"],"mappings":"AAAA;;;;;;;;;AASA;;AAEA,IAAIA,UAAJ;;AAEA,CAAC,YAAM;;AAELA,eAAa;;AAEXC,cAAW,kBAAkBC,MAAlB,GAA2B,YAA3B,GAA0C,OAF1C;AAGXC,SAAK,EAHM;AAIXC,aAAS,EAJE;AAKXC,WAAO,MALI;AAMXC,aAAS,GANE;AAOXC,UAAM,EAPK;AAQXC,WAAO,CARI;AASXC,QAAI,EATO;;AAWXC,QAXW,kBAWQ;AAAA,UAAdP,GAAc,uEAAR,MAAQ;;;AAEjB,WAAKA,GAAL,GAAWQ,SAASC,aAAT,CAAuBT,GAAvB,CAAX;;AAEA,WACGU,SADH,CACa,UADb,kCAEmC,KAAKN,IAFxC,oBAE6D,KAAKA,IAFlE,8BAEiG,KAAKF,KAFtG,oBAE4H,KAAKC,OAFjI,kWAGGO,SAHH,CAGa,UAHb,4BAI6B,KAAKL,KAJlC,oCAIwE,KAAKA,KAJ7E,iCAIgH,KAAKA,KAJrH,+BAIsJ,KAAKA,KAJ3J,4BAIyL,KAAKA,KAJ9L;AAMA,WAAKL,GAAL,CAASW,gBAAT,CAA0B,KAAKb,QAA/B,EAAyC,KAAKc,MAA9C,EAAsD,KAAtD;AACD,KAtBU;AAwBXA,UAxBW,kBAwBJC,CAxBI,EAwBD;;AAERhB,iBAAWS,EAAX,GAAgBE,SAASM,aAAT,CAAuB,KAAvB,CAAhB;AACAjB,iBAAWS,EAAX,CAAcS,YAAd,CAA2B,IAA3B,EAAiC,YAAjC;;AAEA,UAAGlB,WAAWmB,WAAX,OAA6B,KAAhC,EAAuC;AACrCnB,mBAAWS,EAAX,CAAcW,KAAd,CAAoBC,IAApB,GAA+BL,EAAEM,KAAF,GAAWtB,WAAWO,IAAX,GAAkB,GAA5D;AACAP,mBAAWS,EAAX,CAAcW,KAAd,CAAoBG,GAApB,GAA8BP,EAAEQ,KAAF,GAAWxB,WAAWO,IAAX,GAAkB,GAA3D;AACD,OAHD,MAGO,IAAIP,WAAWmB,WAAX,OAA6B,SAAjC,EAA4C;AACjDnB,mBAAWS,EAAX,CAAcW,KAAd,CAAoBC,IAApB,GAA+BL,EAAES,OAAF,CAAU,CAAV,EAAaH,KAAb,GAAsBtB,WAAWO,IAAX,GAAkB,GAAvE;AACAP,mBAAWS,EAAX,CAAcW,KAAd,CAAoBG,GAApB,GAA8BP,EAAES,OAAF,CAAU,CAAV,EAAaD,KAAb,GAAsBxB,WAAWO,IAAX,GAAkB,GAAtE;AACD,OAHM,MAGA,IAAIS,EAAES,OAAF,IAAaT,EAAES,OAAF,CAAUC,MAAV,GAAmB,CAApC,EAAuC;AAC5C1B,mBAAWS,EAAX,CAAcW,KAAd,CAAoBC,IAApB,GAA+BL,EAAES,OAAF,CAAU,CAAV,EAAaH,KAAb,GAAsBtB,WAAWO,IAAX,GAAkB,GAAvE;AACAP,mBAAWS,EAAX,CAAcW,KAAd,CAAoBG,GAApB,GAA8BP,EAAES,OAAF,CAAU,CAAV,EAAaD,KAAb,GAAsBxB,WAAWO,IAAX,GAAkB,GAAtE;AACD,OAHM,MAGA;AACLP,mBAAWS,EAAX,CAAcW,KAAd,CAAoBC,IAApB,GAA+BL,EAAEW,OAAF,GAAa3B,WAAWO,IAAX,GAAkB,GAA9D;AACAP,mBAAWS,EAAX,CAAcW,KAAd,CAAoBG,GAApB,GAA8BP,EAAEY,OAAF,GAAa5B,WAAWO,IAAX,GAAkB,GAA7D;AACD;AACDP,iBAAWS,EAAX,CAAcoB,SAAd,GAA0B,SAA1B;;AAEAlB,eAASmB,IAAT,CAAcC,WAAd,CAA0B/B,WAAWS,EAArC;;AAEAuB,gCAA0B,YAAM;AAC9BhC,mBAAWS,EAAX,CAAcoB,SAAd,IAA2B,UAA3B;AACD,OAFD;AAGA7B,iBAAWS,EAAX,CAAcK,gBAAd,CAA+B,eAA/B,EAAgDd,WAAWiC,EAA3D,EAA+D,KAA/D;AACD,KAlDU;AAoDXA,MApDW,cAoDRjB,CApDQ,EAoDL;;AAEJ,UAAIkB,SAASvB,SAASC,aAAT,CAAuB,aAAvB,CAAb;;AAEAZ,iBAAWG,GAAX,CAAegC,mBAAf,CAAmCnC,WAAWC,QAA9C,EAAwDD,WAAWe,MAAnE,EAA2E,KAA3E;;AAEA,UAAGmB,MAAH,EAAW;;AAETlB,UAAEoB,MAAF,CAASD,mBAAT,CAA6B,eAA7B,EAA8CnC,WAAWiC,EAAzD,EAA6D,KAA7D;AACAtB,iBAASmB,IAAT,CAAcO,WAAd,CAA0BH,MAA1B;AACAlC,mBAAWG,GAAX,CAAeW,gBAAf,CAAgCd,WAAWC,QAA3C,EAAqDD,WAAWe,MAAhE,EAAwE,KAAxE;AACD;AACF,KAhEU;AAkEXF,aAlEW,qBAkEDyB,IAlEC,EAkEKC,KAlEL,EAkEY;;AAErB,UAAIC,OAAO7B,SAAS6B,IAAT,IAAiB7B,SAAS8B,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAA5B;;AAEA,WAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAIF,KAAKG,UAAL,CAAgBjB,MAAnC,EAA2CgB,IAAIA,IAAI,CAAnD,EAAsD;AACpD,YAAGF,KAAKC,oBAAL,CAA0B,OAA1B,EAAmCC,CAAnC,EAAsCE,OAAtC,CAA8CC,WAA9C,OAAgE,OAAnE,EAA4E;AAC1EL,eAAKC,oBAAL,CAA0B,OAA1B,EAAmCC,CAAnC,EAAsCI,SAAtC,IAAmDR,OAAO,KAAP,GAAeC,KAAf,GAAuB,IAA1E;AACAvC,qBAAWI,OAAX,GAAqBoC,KAAKC,oBAAL,CAA0B,OAA1B,EAAmCC,CAAnC,CAArB;AACA;AACD,SAJD,MAIO;AACL1C,qBAAWI,OAAX,GAAqBO,SAASM,aAAT,CAAuB,OAAvB,CAArB;AACAjB,qBAAWI,OAAX,CAAmB2C,IAAnB,GAA0B,UAA1B;AACA/C,qBAAWI,OAAX,CAAmB0C,SAAnB,GAA+BR,OAAO,KAAP,GAAeC,KAAf,GAAuB,IAAtD;AACAC,eAAKT,WAAL,CAAiB/B,WAAWI,OAA5B;AACA;AACD;AACF;AACD,aAAOJ,UAAP;AACD,KApFU;AAsFXmB,eAtFW,yBAsFG;AACZ,UAAI6B,YAAYC,UAAUD,SAAV,IAAuBC,UAAUC,MAAjC,IAA2ChD,OAAOiD,KAAlE;;AAEA,UAAGH,UAAUI,KAAV,CAAiB,OAAjB,KAA8BJ,UAAUI,KAAV,CAAiB,SAAjB,CAA9B,IAA8DJ,UAAUI,KAAV,CAAiB,OAAjB,CAAjE,EAA6F;AAC3F,eAAO,KAAP;AACD,OAFD,MAEO,IAAGJ,UAAUI,KAAV,CAAiB,UAAjB,CAAH,EAAkC;AACvC,eAAO,SAAP;AACD,OAFM,MAEA;AACL,eAAO,SAAP;AACD;AACF;AAhGU,GAAb;;AAmGA;AACA,MAAIC,MAAM,EAAV;;AAEA,MAAIC,YAAY,SAAZA,SAAY,GAAM;;AAElB,QAAIC,WAAJ;;AAEA,OAAG;AACCA,WAAKC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,GAA3B,CAAL;AACH,KAFD,QAESH,MAAMF,GAFf;;AAIA,WAAOE,EAAP;AACH,GATD;;AAWA,MAAI,CAACrD,OAAO8B,yBAAZ,EAAuC;AACnC9B,WAAO8B,yBAAP,GAAmC,UAAC2B,QAAD,EAAWC,OAAX,EAAuB;AACtD,UAAIL,KAAKD,WAAT;;AAEAD,UAAIE,EAAJ,IAAUM,sBAAsB,YAAM;AAClCR,YAAIE,EAAJ,IAAUM,sBAAsB,UAACC,EAAD,EAAQ;AACpC,iBAAOT,IAAIE,EAAJ,CAAP;AACAI,mBAASG,EAAT;AACH,SAHS,EAGPF,OAHO,CAAV;AAIH,OALS,EAKPA,OALO,CAAV;;AAOA,aAAOL,EAAP;AACH,KAXD;AAYH;;AAED,MAAI,CAACrD,OAAO6D,wBAAZ,EAAsC;AAClC7D,WAAO6D,wBAAP,GAAkC,UAACR,EAAD,EAAQ;AACtC,UAAIF,IAAIE,EAAJ,CAAJ,EAAa;AACTS,6BAAqBX,IAAIE,EAAJ,CAArB;AACA,eAAOF,IAAIE,EAAJ,CAAP;AACH;AACJ,KALD;AAMH;AACF,CA1ID","file":"touchpoint-es5.js","sourcesContent":["/* \n * TouchPoint.js v1.0.1 - 2017-09-30 \n * A JavaScript library that visually shows taps/cicks on HTML prototypes \n * https://github.com/jonahvsweb/touchpoint-js \n * \n * Copyright (c) 2017 Jonah Bitautas <jonahvsweb@gmail.com> \n * \n * Released under the MIT license \n*/ \n'use strict';\n\nvar TouchPoint;\n\n(() => {\n\n  TouchPoint = {\n\n    clickTap: ('ontouchstart' in window ? 'touchstart' : 'click'),\n    dom: '', \n    styleEl: '',\n    color: '#FFF', \n    opacity: 0.8, \n    size: 20, \n    scale: 8,\n    tp: '', \n\n    init(dom = 'body') {\n\n      this.dom = document.querySelector(dom);\n      \n      this\n        .createCss('.tp-init', \n          `position: absolute; width: ${ this.size }px; height: ${ this.size }px; background-color: ${ this.color }; opacity:  ${ this.opacity }; border-radius: 20px; -ms-transform: scale(0.5); -webkit-transform: scale(0.5); -moz-transform: scale(0.5); -o-transform: scale(0.5); transform: scale(0.5); -ms-transition: all 0.5s ease-out; -webkit-transition: all 0.5s ease-out; -moz-transition: all 0.5s ease-out; -o-transition: all 0.5s ease-out; transition: all 0.5s ease-out; z-index: 9999;`)\n        .createCss('.tp-anim', \n          `-ms-transform: scale(${ this.scale }); -webkit-transform: scale(${ this.scale }); -moz-transform: scale(${ this.scale }); -o-transform: scale(${ this.scale }); transform: scale(${ this.scale }); opacity: 0;`\n        );\n      this.dom.addEventListener(this.clickTap, this.create, false);\n    },\n\n    create(e) {\n      \n      TouchPoint.tp = document.createElement('div');\n      TouchPoint.tp.setAttribute('id', 'touchpoint');\n\n      if(TouchPoint.getMobileOS() === 'iOS') {\n        TouchPoint.tp.style.left = `${ e.pageX - (TouchPoint.size * 0.5) }px`;\n        TouchPoint.tp.style.top = `${ e.pageY - (TouchPoint.size * 0.5) }px`;\n      } else if (TouchPoint.getMobileOS() === 'Android') {\n        TouchPoint.tp.style.left = `${ e.touches[0].pageX - (TouchPoint.size * 0.5) }px`;\n        TouchPoint.tp.style.top = `${ e.touches[0].pageY - (TouchPoint.size * 0.5) }px`;\n      } else if (e.touches && e.touches.length > 0) { \n        TouchPoint.tp.style.left = `${ e.touches[0].pageX - (TouchPoint.size * 0.5) }px`;\n        TouchPoint.tp.style.top = `${ e.touches[0].pageY - (TouchPoint.size * 0.5) }px`;\n      } else { \n        TouchPoint.tp.style.left = `${ e.clientX - (TouchPoint.size * 0.5) }px`;\n        TouchPoint.tp.style.top = `${ e.clientY - (TouchPoint.size * 0.5) }px`;\n      }\n      TouchPoint.tp.className = 'tp-init';\n\n      document.body.appendChild(TouchPoint.tp);\n\n      requestNextAnimationFrame(() => {\n        TouchPoint.tp.className += ' tp-anim';\n      });\n      TouchPoint.tp.addEventListener('transitionend', TouchPoint.gc, false);\n    },\n\n    gc(e) {\n\n      let currTP = document.querySelector('#touchpoint');\n\n      TouchPoint.dom.removeEventListener(TouchPoint.clickTap, TouchPoint.create, false);\n\n      if(currTP) {\n\n        e.target.removeEventListener('transitionend', TouchPoint.gc, false);\n        document.body.removeChild(currTP);\n        TouchPoint.dom.addEventListener(TouchPoint.clickTap, TouchPoint.create, false);\n      }\n    },\n\n    createCss(name, rules) {\n\n      let head = document.head || document.getElementsByTagName('head')[0];\n\n      for(let i = 0; i < head.childNodes.length; i = i + 1) {\n        if(head.getElementsByTagName('style')[i].tagName.toLowerCase() === 'style') {\n          head.getElementsByTagName('style')[i].innerHTML += name + ' { ' + rules + ' }';\n          TouchPoint.styleEl = head.getElementsByTagName('style')[i];\n          break;\n        } else {\n          TouchPoint.styleEl = document.createElement('style');\n          TouchPoint.styleEl.type = 'text/css';\n          TouchPoint.styleEl.innerHTML = name + ' { ' + rules + ' }';\n          head.appendChild(TouchPoint.styleEl);\n          break;\n        }\n      }\n      return TouchPoint;\n    },\n\n    getMobileOS() {\n      let userAgent = navigator.userAgent || navigator.vendor || window.opera;\n\n      if(userAgent.match( /iPad/i ) || userAgent.match( /iPhone/i ) || userAgent.match( /iPod/i )) {\n        return 'iOS';\n      } else if(userAgent.match( /Android/i )) {\n        return 'Android';\n      } else {\n        return 'unknown';\n      }\n    }\n  };\n\n  // requestNextAnimationFrame shim from: https://gist.github.com/getify/3004342\n  let ids = {};\n\n  let requestId = () => {\n      \n      let id;\n      \n      do {\n          id = Math.floor(Math.random() * 1E9);\n      } while (id in ids);\n\n      return id;\n  }\n\n  if (!window.requestNextAnimationFrame) {\n      window.requestNextAnimationFrame = (callback, element) => {\n          let id = requestId();\n\n          ids[id] = requestAnimationFrame(() => {\n              ids[id] = requestAnimationFrame((ts) => {\n                  delete ids[id];\n                  callback(ts);\n              }, element);\n          }, element);\n\n          return id;\n      };\n  }\n\n  if (!window.cancelNextAnimationFrame) {\n      window.cancelNextAnimationFrame = (id) => {\n          if (ids[id]) {\n              cancelAnimationFrame(ids[id]);\n              delete ids[id];\n          }\n      };\n  }\n})();"]}